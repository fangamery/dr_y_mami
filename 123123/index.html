<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –ú–∞–º–∞!</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    /* –û–±–æ–ª–æ—á–∫–∞-—Å–∫—Ä–æ–ª–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ —Å–∫—Ä–æ–ª–ª–∏—Ç—Å—è, –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å–æ–º .scrollable */
    #wrap{height:100%;overflow:hidden}
    #wrap.scrollable{overflow-y:scroll;scroll-snap-type:y mandatory;scroll-behavior:smooth;-webkit-overflow-scrolling:touch}

    /* –û—Å—Ç–∞–≤–ª—è–µ–º —Ñ–æ–Ω —É body –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º */
    body{font-family:'Montserrat',sans-serif;background:#fff}
    body.festive{ /* –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –±—É–¥—É—â–∏—Ö —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–π */ }

    section{width:100%;height:100vh;scroll-snap-align:start;position:relative;overflow:visible}

    /* --- SECTION 1: bouquet + confetti --- */
    #section1{display:flex;align-items:center;justify-content:center;background:linear-gradient(to bottom,#ffe4e1,#f5f5dc)}
    #bgImage{display:none;position:absolute;inset:0;margin:auto;width:50%;opacity:.45;z-index:1;pointer-events:none}
    /* –ë—É–∫–µ—Ç –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π */
    #bouquet{width:340px;cursor:pointer;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:40;transition:transform .25s}
    #bouquet:hover{transform:translate(-50%,-50%) scale(1.06)}
    #prompt{position:absolute;top:70%;left:50%;transform:translate(-50%,-50%);font-family:'Pacifico',cursive;font-size:2.2rem;color:#d81b60;text-shadow:2px 2px #f8bbd0;display:none;z-index:45}
    #greeting{position:absolute;top:18%;width:100%;text-align:center;color:#c2185b;font-family:'Pacifico',cursive;display:none;z-index:35;text-shadow:2px 2px #fce4ec}
    #greeting h1{font-size:3.6rem}
    #greeting p{font-size:1.5rem;color:#8e24aa}
    #arrow{position:absolute;bottom:5%;left:50%;transform:translateX(-50%);font-size:3rem;display:none;color:#d84315;z-index:35}

    .confetti,.burst{position:fixed;font-size:1.9rem;pointer-events:none;z-index:9999}
    @keyframes fall{to{transform:translateY(110vh) rotate(30deg);opacity:0}}
    @keyframes burst{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(var(--dx),var(--dy)) scale(1.25);opacity:0}}

    /* --- SECTION 2: –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–º–µ --- */
    /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ –≤—ã—Å–æ—Ç–µ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç/–≤–∏–¥–µ–æ */
    #section2{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;background:linear-gradient(to bottom,#ffffff,#f2f2f2)}
    #section2 .row{display:flex;flex-wrap:wrap;width:90%;max-width:1200px;gap:2rem;align-items:center;margin-top:0}
    #section2 .text-left,#section2 .text-right{flex:1 1 40%;max-width:45%;font-family:'Pacifico',cursive;font-size:1.9rem;line-height:1.5;color:#c2185b;text-shadow:1px 1px #fce4ec;text-align:left}
    /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–ª–æ–Ω–æ–∫ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤–∏–¥–µ–æ */
    #section2 .text-left{display:flex;align-items:center;justify-content:center;padding:1rem}
    #section2 .text-right{display:flex;align-items:center;justify-content:center;padding:1rem}
    #section2 .video{flex:1 1 40%;max-width:40%;display:flex;align-items:center;justify-content:center}
    #section2 .video video{width:100%;height:420px;border:0}
    #section2 .text-below{padding-top:1rem;font-family:'Pacifico',cursive;font-size:1.6rem;color:#d81b60;text-shadow:2px 2px #ffe0b2;text-align:center}

    /* --- SECTION 3: –ª–µ—Å—Ç–µ–Ω–∫–∞ —Å —Ñ–æ–Ω–æ–≤–æ–π —Å–µ–∫—Ü–∏–µ–π --- */
    #section3{display:flex;align-items:center;justify-content:center;padding:2rem;background:linear-gradient(270deg,#ffdde1,#fce1d6,#e6f0ff)}
    .steps{position:relative;width:90%;max-width:1200px;height:80vh}
    .step{position:absolute;width:20%;height:28%;overflow:hidden;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.18);background:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transform:translateY(20px);transition:all .9s cubic-bezier(.2,.9,.2,1);z-index:5}
    .step2{width:34%}
    .step img{width:100%;height:100%;object-fit:cover;display:block}
    .step1{left:2%;top:6%;--delay:0s}
    .step2{right:12%;top:6%;--delay:.5s}
    .step3{left:4%;top:54%;--delay:1s}
    .step4{right:4%;bottom:6%;--delay:1.5s}
    .steps.in .step{opacity:1;transform:translateY(0)}
    .steps.in .step{transition-delay:var(--delay)}

    /* 2) —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à—Ä–∏—Ñ—Ç —Å—Ç–∏—Ö–∞ –∏ —Å—Ç–∞–≤–∏–º –µ–≥–æ –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫ */
    .poem{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);max-width:46%;z-index:20;text-align:center;font-family:'Pacifico',cursive;color:#5a1f56;text-shadow:1px 1px #f3e5f5;font-size:1.9rem;line-height:1.4;background:rgba(255,255,255,.95);padding:1.25rem;border-radius:14px;box-shadow:0 12px 34px rgba(0,0,0,.12)}

    @media(max-width:900px){#section2 .text-left,#section2 .text-right{font-size:1.15rem}.step{width:46%;height:18%}.step1{left:4%;top:6%}.step2{left:4%;top:30%}.step3{left:4%;top:54%}.step4{left:4%;top:78%}.poem{max-width:86%;font-size:1.15rem}}

    /* --- SECTION 4 final */
    #section4{display:flex;align-items:center;justify-content:center;background:#000}
    #section4 img{max-width:80%;height:auto}

    /* --- –°–ï–ü–ê–†–ê–¢–û–†: –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤–Ω–∏–∑—É —Å–µ–∫—Ü–∏–∏ –∏ –ø–ª–∞–≤–Ω–æ —Å–º–µ—à–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç–∞ —Å —Å–æ—Å–µ–¥–Ω–µ–π —Å–µ–∫—Ü–∏–µ–π --- */
    .sep{position:absolute;left:0;right:0;height:6vh;bottom:-3vh;pointer-events:none;z-index:15}
    .no-snap{scroll-snap-align:none}
  </style>
</head>
<body>
  <div id="wrap">

    <section id="section1" data-c1="#ffe4e1" data-c2="#f5f5dc">
      <img id="bgImage" src="fon.png" alt="–§–æ–Ω">
      <img id="bouquet" src="liliya-rozovaya.png" alt="–ë—É–∫–µ—Ç –ª–∏–ª–∏–π">
      <div id="prompt">–ù–∞–∂–º–∏!</div>
      <div id="greeting"><h1>–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!</h1><p>–≠—Ç–æ—Ç —Å–∞–π—Ç —è —Å–¥–µ–ª–∞–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è</p></div>
      <div id="arrow">‚¨áÔ∏è</div>
      <audio id="popSound" src="popper.mp3"></audio>
      <audio id="sound1" src="sound1.mp3" preload="auto"></audio>
      <audio id="sound2" src="sound2.mp3" preload="auto"></audio>
    </section>

    <section id="section2" data-c1="#ffffff" data-c2="#f2f2f2">
      <div class="row">
        <div class="text-left">
          –î–æ—Ä–æ–≥–∞—è –º–∞–º–∞!<br>
          –í —ç—Ç–æ—Ç —Ç—ë–ø–ª—ã–π –¥–µ–Ω—å —Ö–æ—á—É –ø–æ–∂–µ–ª–∞—Ç—å —Ç–µ–±–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ç–µ—Ä–ø–µ–Ω–∏—è, –∑–¥–æ—Ä–æ–≤—å—è –∏ —Å–ø–æ–∫–æ–π–Ω—ã—Ö –Ω–æ—á–µ–π. –¢—ã ‚Äî –æ–ø–æ—Ä–∞ –Ω–∞—à–µ–π —Å–µ–º—å–∏, –º—É–¥—Ä–∞—è –∏ –∑–∞–±–æ—Ç–ª–∏–≤–∞—è. –°–ø–∞—Å–∏–±–æ –∑–∞ –Ω–µ—Å–∫–æ–Ω—á–∞–µ–º—É—é –¥–æ–±—Ä–æ—Ç—É –∏ –∑–∞ —Ç–æ, —á—Ç–æ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—à—å —Å–∏–ª—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å.
        </div>

        <div class="video">
          <video id="birthdayVideo" controls muted preload="metadata" class="vertical-video">
            <source src="123123.mp4" type="video/mp4">
            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HTML5 –≤–∏–¥–µ–æ.
          </video>
        </div>

        <div class="text-right">
          –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ç–µ–±–µ –º–∞–ª–µ–Ω—å–∫–∏–µ —Ä–∞–¥–æ—Å—Ç–∏ –∏ —Ö–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏. –ñ–µ–ª–∞—é —Å–≤–µ—Ç–∞ –≤ —Å–µ—Ä–¥—Ü–µ, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–º –¥–Ω–µ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç—ë–ø–ª—ã—Ö –º–≥–Ω–æ–≤–µ–Ω–∏–π. –ú—ã –æ—á–µ–Ω—å —Ç–µ–±—è –ª—é–±–∏–º!
        </div>
      </div>
      <div class="text-below">üéÇ <strong>–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º, –º–∞–º–æ—á–∫–∞!</strong> üéÅ</div>
      <div id="arrow2">‚¨áÔ∏è</div>

      <!-- –∞—É–¥–∏–æ—Ñ–∞–π–ª –¥–ª—è —Å–µ–∫—Ü–∏–∏ 2 (–ø–æ—Å—Ç–∞–≤—å —Å–≤–æ–π —Ñ–∞–π–ª –≤ —Ç—É –∂–µ –ø–∞–ø–∫—É –∏–ª–∏ —É–∫–∞–∂–∏ URL) -->
      <audio id="section2Sound" src="section2-audio.mp3" preload="auto"></audio>
    </section>

    <section id="section3" data-c1="#ffdde1" data-c2="#e6f0ff">
      <div class="steps" id="steps">
        <div class="step step1"><img src="https://www.regard.ru/static/logo.png" alt="Regard"></div>
        <div class="step step2"><img src="https://profstories.ru/images/Organizatsiya/es.jpg" alt="EnergoSila"></div>
        <div class="step step3"><img src="https://tmsearch.onlinepatent.ru/images/f27/f2737de3-fac4-4b70-8d71-fd9c72e0c3b4.jpg" alt="NetWit"></div>
        <div class="step step4"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9w13Mn0GROiV2NESwX0kG-rQUV2F7e9Fgcg&s" alt="Avangard"></div>

        <div class="poem">
          –í –æ—Ç—á—ë—Ç–∞—Ö —Å—Ç—Ä–æ–∫–∞ ‚Äî –∫–∞–∫ –∑–≤—É–∫ –º–µ—Ç—Ä–æ–Ω–æ–º–∞,
          –í "Regard" —Ç–æ—á–Ω–æ—Å—Ç—å ‚Äî –≤ –∫–∞–∂–¥–æ–º –¥–µ–ª–µ –¥–æ–º.
          –í —ç–Ω–µ—Ä–≥–æ—Å–∏–ª–µ ‚Äî –±–∞–ª–∞–Ω—Å –≤ –Ω–µ–∂–Ω—ã—Ö —Ä—É–∫–∞—Ö –µ—ë,
          –í NetWit ‚Äî –º—ã—Å–ª–∏ –±—ã—Å—Ç—Ä—ã, –∫–∞–∫ —É—Ç—Ä–µ–Ω–Ω–∏–π –±–µ–≥.
          –í –∞–≤–∞–Ω–≥–∞—Ä–¥–µ —Å—á—ë—Ç –≤–µ–¥—ë—Ç –µ—ë –º—É–¥—Ä–∞—è —Ä—É–∫–∞ ‚Äî
          –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—à–∞ —Å–≤–µ—Ç–∏—Ç, —Å–ª–æ–≤–Ω–æ —Ç–∏—Ö–∞—è —Ä–µ–∫–∞.
        </div>
      </div>
    </section>

    <section id="section4" data-c1="#000000" data-c2="#111111">
      <img id="img4a" src="https://reviewnebula.wordpress.com/wp-content/uploads/2014/07/fec5d-screenshot2014-07-21at10-51-48am.png" alt="">
    </section>

  </div>

  <script>
    // confetti + scroll + steps + separators
    let clicked = false;
    const wrap = document.getElementById('wrap');
    const bouquet = document.getElementById('bouquet');
    const prompt = document.getElementById('prompt');
    const popSound = document.getElementById('popSound');
    const sound1 = document.getElementById('sound1');
    const sound2 = document.getElementById('sound2');
    const bgImage = document.getElementById('bgImage');
    const greeting = document.getElementById('greeting');
    const arrow = document.getElementById('arrow');
    const emojis = ['üéà','üéÅ','üéâ','ü•≥','üéÇ'];

    // –ø–æ–¥—Å–∫–∞–∑–∫–∞
    bouquet.addEventListener('mouseenter', ()=>{ if(!clicked) prompt.style.display='block' });
    bouquet.addEventListener('mouseleave', ()=>{ prompt.style.display='none' });

    function randomInt(min,max){return Math.floor(Math.random()* (max-min+1))+min}
    function createBurst(){
      const rect = bouquet.getBoundingClientRect();
      for(let i=0;i<40;i++){
        const span = document.createElement('span');
        span.className='burst';
        span.textContent=emojis[Math.floor(Math.random()*emojis.length)];
        span.style.left = (rect.left + rect.width/2) + 'px';
        span.style.top  = (rect.top + rect.height/2) + 'px';
        span.style.setProperty('--dx', randomInt(-220,220)+'px');
        span.style.setProperty('--dy', randomInt(-220,220)+'px');
        span.style.animation = `burst ${0.9 + Math.random()*0.8}s ease-out`;
        span.style.zIndex = 9999;
        document.body.appendChild(span);
        span.addEventListener('animationend', ()=> span.remove());
      }
    }

    function createFall(){
      const span = document.createElement('span');
      span.className='confetti';
      span.textContent=emojis[Math.floor(Math.random()*emojis.length)];
      span.style.left = Math.random()*100 + 'vw';
      span.style.top = '-5vh';
      span.style.animation = `fall ${4 + Math.random()*3}s linear`;
      span.style.zIndex = 9999;
      document.body.appendChild(span);
      span.addEventListener('animationend', ()=> span.remove());
    }

    let fallInterval = null;
    bouquet.addEventListener('click', ()=>{
      if(clicked) return;
      clicked = true;
      setTimeout(()=>{ bouquet.style.display='none' },100);
      try{ popSound.play(); sound1.play(); sound2.play(); }catch(e){}

      // –≤–∫–ª—é—á–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É –ø–æ —Å–µ–∫—Ü–∏—è–º (–∫–∞–∫ –≤ —Ç–≤–æ—ë–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –∫–æ–¥–µ) ‚Äî —Ç–µ–ø–µ—Ä—å –Ω–∞ –æ–±—ë—Ä—Ç–∫–µ
      wrap.classList.add('scrollable');
      document.body.classList.add('festive');

      prompt.style.display='none';
      bouquet.style.pointerEvents='none';
      bgImage.style.display='block';
      greeting.style.display='block';
      document.getElementById('arrow').style.display='block';
      createBurst();
      fallInterval = setInterval(createFall, 300);

      // —á—Ç–æ–±—ã snap —Ç–æ—á–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º—Å—è –Ω–∞ —Ç–µ–∫—É—â—É—é —Å–µ–∫—Ü–∏—é (–≤–≤–µ—Ä—Ö)
      setTimeout(()=>{ wrap.scrollTo({ top: 0, behavior: 'instant' }) }, 50);
    });

    // –∞–≤—Ç–æ–ø–ª–µ–π –≤–∏–¥–µ–æ –≤ —Å–µ–∫—Ü–∏–∏ 2 ‚Äî –Ω–∞–±–ª—é–¥–∞–µ–º –∑–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å—é –≤–Ω—É—Ç—Ä–∏ wrap
    const video = document.getElementById('birthdayVideo');
    const s2sound = document.getElementById('section2Sound');
    const section2 = document.getElementById('section2');
    if(video && section2){
      const observer = new IntersectionObserver(entries=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){ video.play().catch(()=>{}); if(s2sound) s2sound.play().catch(()=>{}); }
          else { video.pause(); video.currentTime = 0; if(s2sound){ s2sound.pause(); s2sound.currentTime = 0; } }
        });
      },{root:wrap,threshold:0.5});
      observer.observe(section2);
    }

    // –ø–æ—è–≤–ª–µ–Ω–∏–µ "—Å—Ç—É–ø–µ–Ω–µ–π" –≤ —Å–µ–∫—Ü–∏–∏ 3 ‚Äî —Ç–æ–∂–µ –≤–Ω—É—Ç—Ä–∏ wrap
    const steps = document.getElementById('steps');
    new IntersectionObserver(entries=>{ entries.forEach(entry=>{ if(entry.isIntersecting){ steps.classList.add('in') } }); },{root:wrap,threshold:0.2}).observe(document.getElementById('section3'));

    // === —Å–æ–∑–¥–∞—ë–º —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä—ã –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã —Ü–≤–µ—Ç–∞ –Ω–∞ —Å—Ç—ã–∫–∞—Ö ===
    (function createSeparators(){
      const sections = Array.from(document.querySelectorAll('section'));
      const sepHeight = Math.max(window.innerHeight * 0.06, 48); // –ø—Ä–∏–º–µ—Ä–Ω–æ 6vh, –º–∏–Ω–∏–º—É–º 48px
      sections.forEach((sec, idx) => {
        if(idx === sections.length - 1) return; // –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ–∫—Ü–∏–∏ —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä –Ω–µ –Ω—É–∂–µ–Ω
        const next = sections[idx+1];
        const c1 = sec.dataset.c2 || '#ffffff';
        const c2 = next.dataset.c1 || '#ffffff';
        const sep = document.createElement('div');
        sep.className = 'sep no-snap';
        sep.style.height = sepHeight + 'px';
        sep.style.bottom = -(sepHeight/2) + 'px';
        sep.style.background = `linear-gradient(to bottom, ${c1}, ${c2})`;
        sep.style.pointerEvents = 'none';
        sec.appendChild(sep);
      });
    })();

    // API: –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
    window.stopConfetti = ()=>{ if(fallInterval) clearInterval(fallInterval) };

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ—Å–∞–π–∑–∞ ‚Äî –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—ã—Å–æ—Ç—É —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä–æ–≤
    window.addEventListener('resize', ()=>{
      const seps = document.querySelectorAll('.sep');
      const newH = Math.max(window.innerHeight * 0.06, 48);
      seps.forEach(s=>{ s.style.height = newH + 'px'; s.style.bottom = -(newH/2) + 'px'; });
    });
  </script>
</body>
</html>
